<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>tiny-complete demo</title>
        <script src="../index.js"></script>
    </head>
    <body>
        <h1>tiny-complete demo page</h1>

        <p>Type:</p>
        <div class="type-complete">
            <input id="cityInput" type="text" name="cities" placeholder="Enter your city">
        </div>
        <script>
            var TC = new TinyComplete({
                id: 'cityInput',
                setArrVals: function(request, query) {
                    var resultsArr = this.resultsArr || [];
                    if (resultsArr.length < 5) {
                        request('https://a.intentmedia.net/adServer/airports?q=' + query, function(response) {
                            TC.resultsArr = JSON.parse(response).results;
                        });
                    }
                }
            });
            window.addEventListener('beforeunload', function() {
                TC.nuke();
            });
        </script>
    </body>
</html>