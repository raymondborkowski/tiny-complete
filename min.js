!function(){function t(e){return e.filter(function(e,t,n){return e.key?n.map(function(e){return e.val}).indexOf(e.val)===t:n.indexOf(e)===t})}function f(e,t,n){if(t){var i=t.innerHTML,o=t.getAttribute("key");e.value=i,e.setAttribute("key",o),n(i,o)}}function a(e,t){setTimeout(function(){e.style.display=t},200)}function l(e,t,i){var n,o,r,c,u=e.nextSibling||null,d=e.parentNode,l=document.createElement("div");l.setAttribute("class","tc-contain tc-"+i.id),u?(d.insertBefore(l,u),u.classList&&u.classList.contains("tc-"+i.id)&&d.removeChild(u)):d.appendChild(l),n=e,l.style.minWidth=n.offsetWidth+"px",t.forEach(function(e,t){if(t<(i.maxResults||10)){var n=document.createElement("li");n.innerHTML=e.val||e,n.setAttribute("key",e.key),n.setAttribute("class","tc-li"),l.appendChild(n)}}),o=e,r=l,c=i.onSelect,r.addEventListener("click",function(e){f(o,e.target,c||function(){}),a(r,"none")}),r.addEventListener("mouseover",function(e){s(e.target)}),o.addEventListener("blur",function(){a(r,"none");var e=o.nextElementSibling,t=e&&(e.querySelector("#tc-hover")||e.firstElementChild);f(o,t,c||function(){})}),o.addEventListener("focus",function(){a(r,"block")})}function s(e){var t=document.getElementById("tc-hover");t&&t.removeAttribute("id"),e&&e.setAttribute("id","tc-hover")}function v(e,t){var n=(e=e||[]).length;return n<=t?t=0:t<0&&(t=n-1),s(e[t]),t}function e(n){if("object"==typeof n){var i,e,o,r,c=t(n.listItems),u=c,d="";(i=document.getElementById(n.id)).addEventListener("input",function(e){var t;d=e.target.value,t=d,u=c.filter(function(e){return-1!==(e.val||e).toLowerCase().indexOf(t.toLowerCase())&&e}),l(i,u,n),n.onUserInput&&n.onUserInput(u,d)}),e=i,o=n.id,r=-1,e.addEventListener("keydown",function(e){var t=(document.querySelector(".tc-"+o)||{}).children,n=e.keyCode;40===n?r=v(t,r+=1):38===n?r=v(t,r-=1):13===n&&0<=r&&0<t.length&&t[r].click()}),this.addListItems=function(e){c=t(c.concat(e))}}}"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(e):"undefined"!=typeof window&&(window.TinyComplete=e)}();