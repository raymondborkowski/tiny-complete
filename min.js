!function(){function t(e){return e.filter(function(e,t,n){return e.key?n.map(function(e){return e.val}).indexOf(e.val)===t:n.indexOf(e)===t})}function s(e,t){setTimeout(function(){e.style.display=t},100)}function a(e,t,i){var n,d,u,c,o=e.nextSibling||null,r=e.parentNode,a=document.createElement("div");a.setAttribute("class","tc-contain tc-"+i.id),o?(r.insertBefore(a,o),o.classList&&o.classList.contains("tc-"+i.id)&&r.removeChild(o)):r.appendChild(a),n=e,a.style.minWidth=n.offsetWidth+"px",t.forEach(function(e,t){if(t<(i.maxResults||10)){var n=document.createElement("li");n.innerHTML=e.val||e,n.setAttribute("key",e.key),n.setAttribute("class","tc-li"),a.appendChild(n)}}),d=e,u=a,c=i.onSelect,u.addEventListener("click",function(e){var t,n,i,o,r;t=d,n=e.target,i=c||function(){},o=n.innerHTML,r=n.getAttribute("key"),t.value=o,t.setAttribute("key",r),i(o,r),s(u,"none")}),u.addEventListener("mouseover",function(e){f(e.target)}),d.addEventListener("blur",function(){s(u,"none")}),d.addEventListener("focus",function(){s(u,"block")})}function f(e){var t=document.getElementById("tc-hover");t&&t.removeAttribute("id"),e&&e.setAttribute("id","tc-hover")}function l(e,t){var n=(e=e||[]).length;return n<=t?t=0:t<0&&(t=n-1),f(e[t]),t}function e(n){if("object"==typeof n){var i,e,o,r,d=t(n.listItems),u=d,c="";(i=document.getElementById(n.id)).addEventListener("input",function(e){var t;c=e.target.value,t=c,u=d.filter(function(e){return-1!==(e.val||e).toLowerCase().indexOf(t.toLowerCase())&&e}),a(i,u,n),n.onUserInput&&n.onUserInput(u,c)}),e=i,o=n.id,r=-1,e.addEventListener("keydown",function(e){var t=(document.querySelector(".tc-"+o)||{}).children,n=e.keyCode;40===n?r=l(t,r+=1):38===n?r=l(t,r-=1):13===n&&0<=r&&0<t.length&&t[r].click()}),this.addListItems=function(e){d=t(d.concat(e))}}}"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(e):"undefined"!=typeof window&&(window.TinyComplete=e)}();